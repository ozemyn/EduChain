/* ===================================
   玻璃液态效果 - Glass Morphism Effects
   ===================================
   
   说明：
   - iOS 风格的玻璃态设计
   - 高性能的模糊效果
   - 多种强度和变体
   - 响应式优化
   - 移动端性能优化
   
   文件结构：
   1. 玻璃效果变量
   2. 基础玻璃容器
   3. 玻璃组件变体
   4. 液态形状
   5. 玻璃效果增强
   6. 响应式优化
   
   ================================== */

/* ===================================
   1. 玻璃效果变量 - Glass Effect Variables
   ================================== */

:root {
  /* 模糊强度 */
  --blur-xs: blur(2px);
  --blur-sm: blur(4px);
  --blur-md: blur(8px);
  --blur-lg: blur(12px);
  --blur-xl: blur(16px);
  --blur-2xl: blur(24px);
  --blur-3xl: blur(32px);

  /* 玻璃边框 */
  --glass-border-width: 1px;
  --glass-border-style: solid;

  /* 玻璃阴影 */
  --glass-shadow-sm: 0 2px 8px var(--glass-shadow);
  --glass-shadow-md: 0 4px 16px var(--glass-shadow);
  --glass-shadow-lg: 0 8px 32px var(--glass-shadow);
  --glass-shadow-xl: 0 16px 48px var(--glass-shadow);

  /* 液态圆角 */
  --liquid-border-radius: 20px;
  --liquid-border-radius-lg: 28px;
  --liquid-border-radius-xl: 36px;
}

/* ===================================
   2. 基础玻璃容器 - Base Glass Containers
   ================================== */

/* 轻度玻璃效果 */
.glass-light {
  background: var(--glass-bg-light);
  backdrop-filter: var(--blur-sm);
  -webkit-backdrop-filter: var(--blur-sm);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius);
  box-shadow: var(--glass-shadow-sm);
  position: relative;
  overflow: hidden;
}

/* 中度玻璃效果 */
.glass-medium {
  background: var(--glass-bg-medium);
  backdrop-filter: var(--blur-md);
  -webkit-backdrop-filter: var(--blur-md);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius);
  box-shadow: var(--glass-shadow-md);
  position: relative;
  overflow: hidden;
}

/* 强度玻璃效果 */
.glass-strong {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--blur-lg);
  -webkit-backdrop-filter: var(--blur-lg);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius);
  box-shadow: var(--glass-shadow-lg);
  position: relative;
  overflow: hidden;
}

/* 超强玻璃效果 */
.glass-ultra {
  background: var(--bg-glass-strong);
  backdrop-filter: var(--blur-xl);
  -webkit-backdrop-filter: var(--blur-xl);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius-lg);
  box-shadow: var(--glass-shadow-xl);
  position: relative;
  overflow: hidden;
}

/* ===================================
   3. 玻璃组件变体 - Glass Component Variants
   ================================== */

/* 玻璃卡片 */
.glass-card {
  background: var(--glass-bg-medium);
  backdrop-filter: var(--blur-md);
  -webkit-backdrop-filter: var(--blur-md);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius);
  box-shadow: var(--glass-shadow-md);
  padding: var(--spacing-lg);
  transition: all var(--transition-base) var(--ease-ios);
  position: relative;
  overflow: hidden;
}

.glass-card:hover {
  background: var(--glass-bg-strong);
  box-shadow: var(--glass-shadow-lg);
  transform: translateY(-2px);
}

/* 玻璃按钮 */
.glass-button {
  background: var(--glass-bg-light);
  backdrop-filter: var(--blur-sm);
  -webkit-backdrop-filter: var(--blur-sm);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius);
  padding: var(--spacing-sm) var(--spacing-lg);
  color: var(--text-primary);
  font-weight: var(--font-weight-medium);
  cursor: pointer;
  transition: all var(--transition-fast) var(--ease-ios);
  position: relative;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: var(--spacing-sm);
}

.glass-button:hover {
  background: var(--glass-bg-medium);
  transform: translateY(-1px);
  box-shadow: var(--glass-shadow-sm);
}

.glass-button:active {
  transform: translateY(0);
  background: var(--glass-bg-strong);
}

.glass-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* 玻璃导航栏 */
.glass-navbar {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--blur-lg);
  -webkit-backdrop-filter: var(--blur-lg);
  border-bottom: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  box-shadow: var(--glass-shadow-sm);
  position: sticky;
  top: 0;
  z-index: var(--z-sticky);
  transition: all var(--transition-base) var(--ease-ios);
}

/* 玻璃侧边栏 */
.glass-sidebar {
  background: var(--glass-bg-medium);
  backdrop-filter: var(--blur-md);
  -webkit-backdrop-filter: var(--blur-md);
  border-right: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  box-shadow: var(--glass-shadow-md);
  height: 100vh;
  position: fixed;
  left: 0;
  top: 0;
  z-index: var(--z-fixed);
}

/* 玻璃模态框 */
.glass-modal {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--blur-xl);
  -webkit-backdrop-filter: var(--blur-xl);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius-lg);
  box-shadow: var(--glass-shadow-xl);
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: var(--z-modal);
  max-width: 90vw;
  max-height: 90vh;
  overflow: auto;
}

/* 玻璃浮动卡片 */
.glass-floating-card {
  background: var(--glass-bg-medium);
  backdrop-filter: var(--blur-md);
  -webkit-backdrop-filter: var(--blur-md);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius-lg);
  box-shadow: var(--glass-shadow-lg);
  padding: var(--spacing-xl);
  transition: all var(--transition-base) var(--ease-spring-ios);
  position: relative;
  overflow: hidden;
}

.glass-floating-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: var(--glass-shadow-xl);
  background: var(--glass-bg-strong);
}

/* 玻璃工具提示 */
.glass-tooltip {
  background: var(--glass-bg-strong);
  backdrop-filter: var(--blur-lg);
  -webkit-backdrop-filter: var(--blur-lg);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--liquid-border-radius);
  padding: var(--spacing-sm) var(--spacing-md);
  font-size: var(--font-size-sm);
  color: var(--text-primary);
  box-shadow: var(--glass-shadow-md);
  position: absolute;
  z-index: var(--z-tooltip);
  white-space: nowrap;
}

/* 玻璃徽章 */
.glass-badge {
  background: var(--glass-bg-light);
  backdrop-filter: var(--blur-sm);
  -webkit-backdrop-filter: var(--blur-sm);
  border: var(--glass-border-width) var(--glass-border-style)
    var(--glass-border);
  border-radius: var(--radius-full);
  padding: var(--spacing-xs) var(--spacing-sm);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--text-primary);
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-xs);
}

/* ===================================
   4. 液态形状变体 - Liquid Shape Variants
   ================================== */

/* 圆形液态 */
.liquid-circle {
  border-radius: 50%;
}

/* 胶囊形液态 */
.liquid-pill {
  border-radius: var(--radius-full);
}

/* 大圆角液态 */
.liquid-rounded-lg {
  border-radius: var(--liquid-border-radius-lg);
}

/* 超大圆角液态 */
.liquid-rounded-xl {
  border-radius: var(--liquid-border-radius-xl);
}

/* ===================================
   5. 玻璃效果增强 - Glass Effect Enhancements
   ================================== */

/* 玻璃反光效果 */
.glass-shine::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.2),
    transparent
  );
  transition: left var(--duration-slow) var(--ease-ios);
  z-index: 1;
  pointer-events: none;
}

.glass-shine:hover::before {
  left: 100%;
}

/* 玻璃边缘高光 */
.glass-highlight::after {
  content: '';
  position: absolute;
  top: 1px;
  left: 1px;
  right: 1px;
  height: 1px;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.5),
    transparent
  );
  border-radius: inherit;
  z-index: 1;
  pointer-events: none;
}

/* 玻璃内阴影 */
.glass-inset {
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.1),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1),
    var(--glass-shadow-md);
}

/* 玻璃渐变背景 */
.glass-gradient {
  background: linear-gradient(
    135deg,
    var(--glass-bg-medium),
    var(--glass-bg-light)
  );
}

/* ===================================
   6. 动态玻璃效果 - Dynamic Glass Effects
   ================================== */

/* 呼吸玻璃效果 */
@keyframes glass-breathe {
  0%,
  100% {
    backdrop-filter: var(--blur-md);
    -webkit-backdrop-filter: var(--blur-md);
  }
  50% {
    backdrop-filter: var(--blur-lg);
    -webkit-backdrop-filter: var(--blur-lg);
  }
}

.glass-breathe {
  animation: glass-breathe 3s ease-in-out infinite;
}

/* 玻璃波纹效果 */
@keyframes glass-ripple {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}

.glass-ripple {
  position: relative;
  overflow: hidden;
}

.glass-ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.3);
  transform: translate(-50%, -50%);
  transition:
    width 0.6s,
    height 0.6s;
  pointer-events: none;
}

.glass-ripple:active::after {
  width: 300px;
  height: 300px;
  animation: glass-ripple 0.6s ease-out;
}

/* ===================================
   7. 玻璃文本效果 - Glass Text Effects
   ================================== */

/* 玻璃文本 */
.glass-text {
  background: linear-gradient(
    135deg,
    var(--text-primary),
    var(--text-secondary)
  );
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
  filter: drop-shadow(0 2px 4px var(--glass-shadow));
}

/* 霓虹玻璃文本 - 深色模式下使用白色 */
.glass-neon-text {
  color: var(--text-primary);
  text-shadow:
    0 0 5px currentColor,
    0 0 10px currentColor,
    0 0 15px currentColor;
  filter: blur(0.5px);
}

/* ===================================
   8. 响应式玻璃效果 - Responsive Glass Effects
   ================================== */

/* 平板设备优化 */
@media (max-width: 1024px) {
  .glass-light,
  .glass-medium,
  .glass-strong {
    backdrop-filter: var(--blur-xs);
    -webkit-backdrop-filter: var(--blur-xs);
  }

  .glass-ultra {
    backdrop-filter: var(--blur-sm);
    -webkit-backdrop-filter: var(--blur-sm);
  }
}

/* 移动端优化 - 减少模糊以提升性能 */
@media (max-width: 768px) {
  .glass-light,
  .glass-medium,
  .glass-strong,
  .glass-ultra,
  .glass-card,
  .glass-button,
  .glass-navbar,
  .glass-sidebar,
  .glass-modal,
  .glass-floating-card {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }

  /* 移动端使用纯色背景替代玻璃效果 */
  .glass-light,
  .glass-button {
    background: var(--bg-secondary);
  }

  .glass-medium,
  .glass-card {
    background: var(--bg-elevated);
  }

  .glass-strong,
  .glass-navbar,
  .glass-modal {
    background: var(--bg-elevated);
  }

  .glass-ultra,
  .glass-floating-card {
    background: var(--bg-elevated);
  }

  /* 简化移动端动画 */
  .glass-breathe {
    animation: none;
  }

  .glass-shine::before {
    display: none;
  }

  .glass-ripple::after {
    display: none;
  }
}

/* ===================================
   9. 低性能设备优化 - Low Performance Optimization
   ================================== */

@media (prefers-reduced-motion: reduce) {
  .glass-light,
  .glass-medium,
  .glass-strong,
  .glass-ultra,
  .glass-card,
  .glass-button,
  .glass-navbar,
  .glass-sidebar,
  .glass-modal,
  .glass-floating-card {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    background: var(--bg-elevated);
  }

  .glass-breathe {
    animation: none;
  }

  .glass-ripple::after {
    display: none;
  }

  .glass-shine::before {
    display: none;
  }
}

/* ===================================
   10. 高对比度模式 - High Contrast Mode
   ================================== */

@media (prefers-contrast: high) {
  .glass-light,
  .glass-medium,
  .glass-strong,
  .glass-ultra,
  .glass-card,
  .glass-button,
  .glass-navbar,
  .glass-sidebar,
  .glass-modal,
  .glass-floating-card {
    background: var(--bg-elevated);
    border: 2px solid var(--border-strong);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
  }
}

/* ===================================
   11. 打印样式 - Print Styles
   ================================== */

@media print {
  .glass-light,
  .glass-medium,
  .glass-strong,
  .glass-ultra,
  .glass-card,
  .glass-button,
  .glass-navbar,
  .glass-sidebar,
  .glass-modal,
  .glass-floating-card {
    background: white;
    border: 1px solid black;
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
    box-shadow: none;
  }
}

/* ===================================
   完成 - glass-effects.css
   ================================== */
